<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="robots" content="noindex">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="./style.css">
        <title>autofill.v2 -jp</title>
        <script src="./script.js"></script>
    </head>
    <body>
        <main id="top">
            <h2 class="siteName" onclick="page('main')">forsms autofill</h2>
            <div class="ver">v2.0.0</div>
            <br>
            <ul class="header">
                <li><a onclick="page('notice');">お知らせ</a></li>
                <li><a onclick="page('info');">データの取り扱い</a></li>
                <li><a onclick="page('help');">ヘルプ</a></li>
            </ul>
        </main>
        <main id="middle">
            <div id="date">日付: </div>
                <hr>
                <h3 class="title">データ入力</h3>
                <ul class="input">
                    <li>出席番号を入力<input type="number" id="number" name="fedeww"></li>
                    <li>氏名を入力<input type="text" id="text" name="fwetyp"></li>
                    <li>
                        <input type="checkbox" id="short">
                        <label class="detail" for="short">次回からショートカット</label>
                    </li>
                    <br>
                    <li><input type="button" id="decision" value="移動する"></li>
                    <div class="detail">元リンクは<a href="" onclick="form();">こちら</a></div>
                </ul>
                <hr>
                <ul class="detail">
                    <li>※データはlocalStorageに保存されます。詳細は<a href="#info" onclick="page('info');">こちら</a></li>
                    <li>また、サービスのご利用は上記に同意したものとします</li>
                    <li>※ポップアップがブロックされる場合は許可してください</li>
                </ul>
        </main>
        <main id="detahtml">
            <aside id="alert">
                <h3 class="title">Here we go!</h3>
                <ul class="detail" style="margin-left: 20px;">
                    <li id="information">読み込みに失敗しました。</li>
                </ul>
                <br>
                <input type="button" id="close" style="margin-right: 10px;" value="戻る">
                <input type="button" onclick="let c = JSON.parse(info);autofill(c[1], c[2]);" value="進む">
                <br>
                <div class="detail">元リンクは<a href="" onclick="form();">こちら</a></div>
                <script type="text/javascript">
                    try {
                        document.getElementById("information").innerHTML = "出席番号: " + JSON.parse(info)[1] + "<br>氏名: " + JSON.parse(info)[2];
                    } catch {}
                </script>
            </aside>
            <aside id="notice">
                <h3 class="title">お知らせ</h3>
                <ul>
                    <li>注意事項 <span class="detail">R5/9/12</span></li>
                    <li class="detail">・当サービスの利用はi1(14HR)のみ対応しています</li>
                    <li class="detail">・ご利用の際は念のためフォームの入力情報を確認してください</li>
                    <li class="detail">・<a href="#info" onclick="page('info');">データの取り扱い</a>の把握もお願いします</li>
                </ul>
                <br>
            </aside>
            <aside id="info">
                <h3 class="title">データの取り扱い</h3>
                <ul>
                    <li>注意事項</li>
                    <li class="detail">・番号と氏名はlocalStorageに保存されます</li>
                    <li class="detail">・対策情報などはソースコードを参考にしてください</li>
                </ul>
                <hr>
                <ul>
                    <li>データ管理</li>
                    <li class="detail" style="margin-top: 10px;margin-bottom: 5px;">＜現在の保存済み情報＞</li>
                    <li class="detail">
                        <script>
                            let d = JSON.parse(info);
                            try {
                                document.write("入力スキップ　: " + d[0] + "<br>");
                                document.write("出席番号　　　: " + d[1] + "<br>");
                                document.write("氏名　　　　　: " + d[2] + "<br>");
                            } catch {
                                document.write("保存されているデータはありません<br>");
                            }
                        </script>
                    </li>
                    <li class="detail" style="margin-top: 20px;"><input type="button" onclick="localStorage.clear();alert('データを削除しました');location.href = '';" value="データ削除"></li>
                    <br>
                </ul>
            </aside>
            <aside id="help">
                <h3 class="title">ヘルプ(…---…)</h3>
                <ul>
                    <li>サービスが機能しない場合</li>
                    <li class="detail">↪サイトを更新してください。またJavaScriptの使用を許可してください</li>
                    <br>
                    <li >データが保存されない場合</li>
                    <li class="detail">↪<a href="https://help.amebaownd.com/posts/616547" target="_blank">こちら</a>のサイトを参考にlocalSorageの利用を許可してください</li>
                    <br>
                    <li>不具合やバグなどがある場合</li>
                    <li class="detail">↪サイトの更新を待ってください</li>
                    <li class="detail">↪問い合わせフォームの開発は検討中です</li>
                    <br>
                </ul>
            </aside>
        </main>
    </body>
</html>