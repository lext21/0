<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="robots" content="noindex">
        <meta name="viewport" content="width=device-width">
        <link rel="icon" href="">
        <link rel="stylesheet" href="./style.css">
        <title>autofill - jp</title>
    </head>
    <body>
        <h1 class="siteName">ğŸ¡  Forms autofill.ğŸš´â€â™‚ï¸ğŸ’«</h1>
        <small>&nbsp;&nbsp;å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã¯localStorageã‚’åˆ©ç”¨ã—ã¦ä¿å­˜ã•ã‚Œã¾ã™ã€‚</small>
        <hr>
        <div id="date"></div>
        <div style="color: blue;"><< åˆæœŸè¨­å®š >></div>
        <ul>
            <li><div id="i">*</div>å‡ºå¸­ç•ªå·ã‚’å…¥åŠ›</li>
            <li>
                <input type="number" id="number" placeholder="ä¾‹:0">
            </li><br>
            <li><div id="i">*</div>æ°åã‚’å…¥åŠ›</li>
            <li>
                <input type="text" id="name" placeholder="ä¾‹:é»’ç¾½å¿«æ–—" autocomplete="on">
            </li><br>
            <input type="button" class="info" onclick="clicked(document.getElementById('number').value, document.getElementById('name').value);" value="æƒ…å ±ã‚’ä¿å­˜">
        </ul>
        <small>å…ƒãƒªãƒ³ã‚¯ã¯<a href="https://docs.google.com/forms/d/e/1FAIpQLScFvuLgFKzIk5QtMzywRCYsfivkCdOlsO2dAxV2MT6qPwhGLg/viewform">ã“ã¡ã‚‰</a></small><br><br>
        <small>â€»ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹å ´åˆã¯è¨±å¯ãŒå¿…è¦ã§ã™ã€‚</small><br>
        <small>URL: chrome://settings/content/popups</small>
    </body>
</html>
<script type="text/javascript">
    function clicked(a, b) {
        //ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥
        if (a.charAt(0) == "0") {
            while (true) {
                a = a.slice(1);
                if (a.charAt(0) != 0) {
                    break;
                }
            }
        }

        if (!(a.length >= 1)) {
            while (true) {
                a = prompt("æ­£ã—ã„å‡ºå¸­ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");
                if (a == null) {
                    return;
                } else if (a >= 1) {
                    break;
                }
            }
        }

        if (!(b.length >= 2)) {
            while (true) {
                b = prompt("æ­£ã—ã„æ°åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚(è‹—å­—å«)");
                if (b == null) {
                    return;
                } else if (b.length >= 2) {
                    break;
                }
            }
        }
        //ã•ã‚‰ã«XSSå¯¾ç­–
        if (a.length >= 10) {
            alert("XSSå¯¾ç­–ã«å¼•ã£æ›ã‹ã‚Šã¾ã—ãŸã€‚ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã€‚");
            localStorage.clear();
            return;
        }

        if (b.length >= 10) {
            alert("XSSå¯¾ç­–ã«å¼•ã£æ›ã‹ã‚Šã¾ã—ãŸã€‚ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã€‚");
            localStorage.clear();
            return;
        }

        if (!(isNaN(b))) {
            alert("XSSå¯¾ç­–ã«å¼•ã£æ›ã‹ã‚Šã¾ã—ãŸã€‚ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã€‚");
            localStorage.clear();
            return;
        }
        
        localStorage.setItem("wa", a);
        localStorage.setItem("wi", b);
        if (confirm("ãƒ•ã‚©ãƒ¼ãƒ ã«é£›ã³ã¾ã™ã‹ï¼Ÿ Number: " + a + ", Name: " + b)) {
            window.open(`https://docs.google.com/forms/d/e/1FAIpQLScFvuLgFKzIk5QtMzywRCYsfivkCdOlsO2dAxV2MT6qPwhGLg/viewform?entry.81919075=` + ka + `&entry.718367099=%EF%BD%89%EF%BC%91&entry.366340186=` + a + `&entry.1098113419=` + b + `&entry.733240652=%E5%87%BA%E5%B8%AD+%E2%80%BB%E8%A6%8B%E5%AD%A6%E5%90%AB%E3%82%80`, "_blank");
        } else {
            return;
        }
    }

    //localStorage.clear(); 
    let a = [];
    a.number, a.name = "", "";
    a.number = localStorage.getItem("wa");
    a.name = localStorage.getItem("wi");
    let u = new Date();
    let e = String(u.getMonth()+1);
    let o = String(u.getDate());
    if (o <= 9) {
        o = "0" + o;
    }
    let ka = e + o;
    
    //ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥äºˆå‚™è»
    if (a.number == "null" || a.number == "undefined" || a.number == "") {
        localStorage.removeItem("wa");
        location.href = location.href;
    }

    if (a.name == "null" || a.name == "undefined" || a.name == "") {
        localStorage.removeItem("wi");
        location.href = location.href;
    }

    if (!(a.number == null || a.number == false) && !(a.name == null || a.number == false)) {
        document.getElementById("number").value = a.number;
        document.getElementById("name").value = a.name;
        clicked(a.number, a.name);
    }
    
    document.getElementById("date").innerHTML = "æ—¥ä»˜:" + e + "æœˆ" + o + "æ—¥ >> " + ka + "<br><br>";
    document.getElementById("number").value = a.number;
    document.getElementById("name").value = a.name;
</script>
